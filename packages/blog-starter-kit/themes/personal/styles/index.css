@tailwind base;
@tailwind components;
@tailwind utilities;

@import './docs-article.css';

/* Smooth anchor scrolling */
html {
    scroll-behavior: smooth;
}

.hashnode-content-style{
    @apply prose prose-base break-words text-neutral-800 first:prose-p:mt-0 prose-p:leading-[1.8] prose-a:text-blue-600 prose-a:underline prose-a:underline-offset-2 prose-a:decoration-blue-300 hover:prose-a:decoration-blue-600 dark:prose-a:text-blue-400 dark:prose-a:decoration-blue-700 dark:hover:prose-a:decoration-blue-400 dark:text-neutral-200 prose-blockquote:text-neutral-600 dark:prose-blockquote:text-neutral-300 prose-blockquote:border-l-4 prose-blockquote:border-l-blue-400 prose-blockquote:italic prose-blockquote:px-4 prose-blockquote:py-2 prose-blockquote:bg-blue-50/40 dark:prose-blockquote:bg-blue-950/20 prose-blockquote:my-8 prose-blockquote:rounded-r-lg prose-blockquote:not-italic prose-blockquote:font-normal prose-img:max-w-full prose-a:leading-relaxed prose-figure:leading-relaxed prose-figcaption:leading-relaxed prose-figcaption:text-center prose-figcaption:text-sm prose-figcaption:text-neutral-500 dark:prose-figcaption:text-neutral-400 prose-pre:leading-relaxed prose-li:leading-[1.75] prose-ul:leading-relaxed prose-ol:leading-relaxed prose-th:leading-relaxed prose-td:leading-relaxed prose-li:my-1.5 prose-h1:text-3xl prose-h1:font-bold prose-h1:tracking-tight prose-h1:my-8 prose-h2:text-2xl prose-h2:font-bold prose-h2:tracking-tight prose-h2:mt-12 prose-h2:mb-4 prose-h3:text-xl prose-h3:font-semibold prose-h3:mt-10 prose-h3:mb-3 prose-h4:text-lg prose-h4:font-semibold prose-h4:mt-8 prose-h4:mb-2 dark:prose-invert dark:prose-pre:bg-neutral-900 dark:prose-code:bg-neutral-800 first:prose-h1:mt-0 first:prose-h2:mt-0 first:prose-h3:mt-0 first:prose-h4:mt-0 first:prose-h5:mt-0;
}

.hashnode-content-style :where(code):not(:where([class~="not-prose"],[class~="not-prose"] *))::before, .hashnode-content-style :where(code):not(:where([class~="not-prose"],[class~="not-prose"] *))::after  {
    content: none;
}

/* ── Inline code ─────────────────────────────────────────────────────────── */
.prose code {
    border-radius: 0.3rem;
    font-weight: 500 !important;
    padding: 0.2rem 0.45rem;
    --tw-text-opacity: 1;
    color: rgba(220, 38, 38, var(--tw-text-opacity));
    font-size: 87.5%;
    background: #f1f5f9;
    word-spacing: normal;
    font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace;
}

.dark .prose code {
    --tw-bg-opacity: 1;
    background-color: rgba(30, 41, 59, var(--tw-bg-opacity));
    --tw-text-opacity: 1;
    color: rgba(248, 113, 113, var(--tw-text-opacity));
}

/* ── Code blocks ─────────────────────────────────────────────────────────── */
.prose pre {
    padding-top: 1.25rem !important;
    padding-bottom: 1.25rem !important;
    padding-left: 1.5rem !important;
    padding-right: 1.5rem !important;
    border-radius: 0.625rem;
    background-color: #1a1b26 !important;
    overflow-x: auto;
    max-width: 100%;
    white-space: pre;
    -webkit-overflow-scrolling: touch;
    border: 1px solid rgba(255,255,255,0.06);
    font-family: ui-monospace, 'Cascadia Code', 'Source Code Pro', Menlo, Consolas, 'DejaVu Sans Mono', monospace;
    font-size: 0.875rem !important;
    line-height: 1.65 !important;
}

.prose pre code {
    background-color: transparent;
    border-radius: 0px;
    font-weight: 400 !important;
    padding: 0px;
    font-size: 100%;
    color: #c0caf5;
}

.dark .prose pre code {
    background-color: transparent;
    color: #c0caf5;
}

/* ── Embedded media (images, iframes, videos) ────────────────────────────── */
.hashnode-content-style img,
.hashnode-content-style video,
.hashnode-content-style embed {
    max-width: 100%;
    height: auto;
}

.hashnode-content-style iframe {
    max-width: 100%;
}

/* ── Horizontal rule ─────────────────────────────────────────────────────── */
.prose hr {
    border: none;
    height: 1px;
    background: linear-gradient(to right, transparent, #cbd5e1, transparent);
    margin: 3rem 0;
}

.dark .prose hr {
    background: linear-gradient(to right, transparent, #334155, transparent);
}

/* ── Blockquote ──────────────────────────────────────────────────────────── */
.prose blockquote p::before,
.prose blockquote p::after {
    content: none;
}

.prose table {
    display: block;
    width: 100%;
    max-width: 100%;
    border-collapse: collapse;
    margin: 1.5rem 0;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

.prose thead {
    border-bottom: 2px solid #d1d5db;
}

.dark .prose thead {
    border-bottom-color: #374151;
}

.prose tbody tr {
    border-bottom: 1px solid #e5e7eb;
}

.dark .prose tbody tr {
    border-bottom-color: #374151;
}

.prose th {
    padding: 0.75rem;
    text-align: left;
    font-weight: 600;
    background-color: #f9fafb;
    color: #111827;
}

.dark .prose th {
    background-color: #1f2937;
    color: #f9fafb;
}

.prose td {
    padding: 0.75rem;
}

.prose ul {
    list-style-type: disc;
    padding-left: 1.75rem;
    margin: 1.5rem 0;
}

.prose ol {
    list-style-type: decimal;
    padding-left: 1.75rem;
    margin: 1.5rem 0;
}

.prose li {
    margin-bottom: 0.5rem;
}

/* ── Mermaid diagrams ───────────────────────────────────────────────────── */
.mermaid-container {
    display: flex;
    justify-content: center;
    align-items: center;
    margin: 1.5rem 0;
    padding: 0;
    background-color: transparent;
    border-radius: 0;
    overflow: visible;
    border: none;
}

.dark .mermaid-container {
    background-color: transparent;
    border: none;
}

.mermaid {
    max-width: 100%;
    display: flex;
    justify-content: center;
    background-color: #ffffff;
    border-radius: 0.625rem;
    border: 1px solid #e5e7eb;
    padding: 0;
}

.dark .mermaid {
    background-color: #ffffff;
    border-color: #e5e7eb;
}

.mermaid svg {
    max-width: 100%;
    height: auto;
    display: block;
}

/* ── Quiz containers ────────────────────────────────────────────────────── */
/*
 * Reset Tailwind prose margins/padding that leak into quiz internals.
 * The quiz container lives inside .hashnode-content-style (.prose), so
 * every <p>, <button>, <div> child would otherwise get prose-injected
 * spacing that creates unwanted gaps.
 */
.hashnode-content-style .quiz-container,
.prose .quiz-container {
    margin-top: 2rem;
    margin-bottom: 2rem;
}

.hashnode-content-style .quiz-container p,
.prose .quiz-container p {
    margin-top: 0;
    margin-bottom: 0;
}

.hashnode-content-style .quiz-container button,
.prose .quiz-container button {
    margin: 0;
}

.quiz-container {
    background: #f8fafc;
    border: 1.5px solid #e2e8f0;
    border-radius: 0.75rem;
    padding: 1.5rem;
    margin: 2rem 0;
    font-family: inherit;
}

.dark .quiz-container {
    background: #0f172a;
    border-color: #1e293b;
}

/* Header */
.quiz-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.5rem;
}

.quiz-progress-text {
    font-size: 0.8rem;
    font-weight: 600;
    color: #64748b;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.quiz-score-counter {
    font-size: 0.8rem;
    font-weight: 700;
    color: #0284c7;
    background: #e0f2fe;
    padding: 0.2rem 0.6rem;
    border-radius: 9999px;
}

.dark .quiz-progress-text { color: #94a3b8; }
.dark .quiz-score-counter { background: #0c4a6e; color: #7dd3fc; }

/* Progress bar */
.quiz-progress-bar-wrap {
    background: #e2e8f0;
    border-radius: 9999px;
    height: 4px;
    margin-bottom: 1.25rem;
    overflow: hidden;
}

.quiz-progress-bar {
    background: #0284c7;
    height: 100%;
    border-radius: 9999px;
    transition: width 0.4s ease;
}

.dark .quiz-progress-bar-wrap { background: #1e293b; }

/* Question body */
.quiz-body {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.quiz-question-text {
    font-size: 1rem;
    font-weight: 600;
    color: #0f172a;
    line-height: 1.6;
    margin: 0;
}

.dark .quiz-question-text { color: #f1f5f9; }

/* Options */
.quiz-options {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.quiz-option {
    display: flex;
    align-items: center;
    gap: 0.875rem;
    padding: 0.75rem 1rem;
    border: 1.5px solid #e2e8f0;
    border-radius: 0.5rem;
    cursor: pointer;
    background: white;
    transition: border-color 0.15s, background 0.15s, transform 0.1s;
    user-select: none;
}

.quiz-option:hover {
    border-color: #93c5fd;
    background: #eff6ff;
    transform: translateX(2px);
}

.quiz-option.option-selected {
    border-color: #0284c7;
    background: #eff6ff;
}

.quiz-option.option-correct {
    border-color: #16a34a;
    background: #f0fdf4;
    cursor: default;
}

.quiz-option.option-wrong {
    border-color: #dc2626;
    background: #fef2f2;
    cursor: default;
}

.dark .quiz-option {
    background: #1e293b;
    border-color: #334155;
    color: #e2e8f0;
}

.dark .quiz-option:hover {
    border-color: #60a5fa;
    background: #1e3a5f;
}

.dark .quiz-option.option-selected {
    border-color: #3b82f6;
    background: #1e3a5f;
}

.dark .quiz-option.option-correct {
    border-color: #16a34a;
    background: #14532d;
}

.dark .quiz-option.option-wrong {
    border-color: #dc2626;
    background: #450a0a;
}

.option-key {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 1.75rem;
    height: 1.75rem;
    border-radius: 50%;
    background: #e2e8f0;
    font-size: 0.75rem;
    font-weight: 700;
    color: #475569;
    flex-shrink: 0;
    transition: background 0.15s, color 0.15s;
}

.option-selected .option-key {
    background: #0284c7;
    color: white;
}

.option-correct .option-key {
    background: #16a34a;
    color: white;
}

.option-wrong .option-key {
    background: #dc2626;
    color: white;
}

.dark .option-key { background: #334155; color: #94a3b8; }

.option-text {
    font-size: 0.9375rem;
    line-height: 1.5;
}

/* Feedback */
.quiz-feedback {
    padding: 0.65rem 1rem;
    border-radius: 0.375rem;
    font-size: 0.9rem;
    font-weight: 600;
    display: none;
}

.quiz-feedback.show { display: block; }

.quiz-feedback.correct {
    background: #f0fdf4;
    color: #15803d;
    border: 1px solid #bbf7d0;
}

.quiz-feedback.incorrect {
    background: #fef2f2;
    color: #b91c1c;
    border: 1px solid #fecaca;
}

.dark .quiz-feedback.correct { background: #14532d; color: #86efac; border-color: #166534; }
.dark .quiz-feedback.incorrect { background: #450a0a; color: #fca5a5; border-color: #7f1d1d; }

/* Actions */
.quiz-actions {
    display: flex;
    gap: 0.75rem;
    margin-top: 0.25rem;
}

.quiz-check-btn,
.quiz-next-btn,
.quiz-restart-btn {
    padding: 0.55rem 1.25rem;
    border-radius: 0.375rem;
    font-size: 0.875rem;
    font-weight: 600;
    border: none;
    cursor: pointer;
    transition: background 0.15s, opacity 0.15s;
}

.quiz-check-btn {
    background: #0284c7;
    color: white;
}

.quiz-check-btn:hover:not(:disabled) { background: #0369a1; }
.quiz-check-btn:disabled { background: #cbd5e1; color: #94a3b8; cursor: not-allowed; }

.quiz-next-btn {
    background: #0f172a;
    color: white;
    margin-left: auto;
}

.quiz-next-btn:hover:not(:disabled) { background: #1e293b; }
.quiz-next-btn:disabled { background: #e2e8f0; color: #94a3b8; cursor: not-allowed; }

.dark .quiz-check-btn:disabled { background: #1e293b; color: #475569; }
.dark .quiz-next-btn { background: #e2e8f0; color: #0f172a; }
.dark .quiz-next-btn:hover:not(:disabled) { background: #cbd5e1; }
.dark .quiz-next-btn:disabled { background: #1e293b; color: #475569; }

/* Score screen */
.quiz-score-screen {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.75rem;
    padding: 1.5rem 1rem;
    text-align: center;
}

.quiz-score-medal { font-size: 3rem; line-height: 1; }

.quiz-score-value {
    font-size: 2.5rem;
    font-weight: 800;
    color: #0f172a;
    letter-spacing: -0.02em;
}

.dark .quiz-score-value { color: #f1f5f9; }

.quiz-score-msg {
    font-size: 1rem;
    color: #64748b;
    font-weight: 500;
}

.dark .quiz-score-msg { color: #94a3b8; }

.quiz-score-bar-wrap {
    width: 100%;
    max-width: 240px;
    background: #e2e8f0;
    border-radius: 9999px;
    height: 8px;
    overflow: hidden;
}

.quiz-score-bar {
    background: linear-gradient(90deg, #0284c7, #7c3aed);
    height: 100%;
    border-radius: 9999px;
    transition: width 0.6s ease;
}

.dark .quiz-score-bar-wrap { background: #1e293b; }

.quiz-restart-btn {
    background: #0284c7;
    color: white;
    margin-top: 0.5rem;
}

.quiz-restart-btn:hover { background: #0369a1; }
